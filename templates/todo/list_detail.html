{% extends "base.html" %}

{% block global_nav %}{% endblock %}
{% block messages_block %}{% endblock %}

{% block content %}

<div class="dashboard">

  {% if messages %}
    <div class="dashboard__messages">
      {% for message in messages %}
        <p class="message {{ message.tags }}">{{ message }}</p>
      {% endfor %}
    </div>
  {% endif %}

  <!-- Top Navigation -->
  <div class="dashboard__nav">
    <a href="#">Profile</a>
    <h1>{{ todo_list.name }}</h1>
    <a href="{% url 'todo:list_index' %}" class="btn btn--primary btn--small">Back To Home</a>
  </div>

  <!-- Tasks -->
  <div class="dashboard__lists">
    {% for task in todo_list.tasks.all %}
      <a href="{% url 'todo:task_edit' list_pk=todo_list.pk task_pk=task.pk %}" class="list-card">
        {{ task.title }}
      </a>
    {% empty %}
      <p class="empty-state">No tasks yet.</p>
    {% endfor %}
  </div>

  <!-- Floating Add Button -->
  <a href="{% url 'todo:task_create' todo_list.pk %}" class="fab">+</a>

  <!-- Footer -->
  <div class="dashboard__footer">
    Â© 2026 My App
  </div>

</div>

{% endblock %}